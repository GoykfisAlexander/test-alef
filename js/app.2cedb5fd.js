(function(){"use strict";var e={8401:function(e,n,r){var t=r(9242),i=r(3396);function l(e,n,r,t,l,s){const a=(0,i.up)("AppHeader"),u=(0,i.up)("router-view"),o=(0,i.up)("AppFooter");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(a),(0,i.Wm)(u,{class:"content"}),(0,i.Wm)(o)],64)}function s(e,n){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("header",null,[(0,i._)("nav",null,[(0,i.Wm)(r,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Форма")])),_:1}),(0,i.Wm)(r,{to:"/preview"},{default:(0,i.w5)((()=>[(0,i.Uk)("Превью")])),_:1})])])}var a=r(89);const u={},o=(0,a.Z)(u,[["render",s]]);var d=o;function c(e,n){return(0,i.wg)(),(0,i.iD)("footer",null,"all rights reserved")}const h={},p=(0,a.Z)(h,[["render",c]]);var v=p,f={components:{AppHeader:d,AppFooter:v}};const m=(0,a.Z)(f,[["render",l]]);var g=m,C=r(2483);const w=(0,i._)("p",null,"Персональные данные",-1),_={class:"input-container"},y=(0,i._)("label",{class:"placeholder"},"Имя",-1),b={class:"input-container"},D=(0,i._)("label",{class:"placeholder"},"Возраст",-1),k={class:"children-title"},U=(0,i._)("p",null,"Дети (макс. 5)",-1),x=(0,i._)("span",{class:"plus"},"+",-1),N={key:0,class:"children-form-wrapper"};function O(e,n,r,l,s,a){const u=(0,i.up)("ChildrenForm");return(0,i.wg)(),(0,i.iD)("div",null,[w,(0,i._)("div",_,[y,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>s.formData.fullName=e),class:"user-input"},null,512),[[t.nr,s.formData.fullName]])]),(0,i._)("div",b,[D,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>s.formData.age=e),type:"number",class:"user-input"},null,512),[[t.nr,s.formData.age]])]),(0,i._)("div",k,[U,a.canAddChild?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:n[2]||(n[2]=(...e)=>a.addChild&&a.addChild(...e)),class:"add"},[x,(0,i.Uk)(" Добавить ребенка ")])):(0,i.kq)("",!0)]),e.children?((0,i.wg)(),(0,i.iD)("div",N,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.unsavedChildren,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n,class:"child-form"},[(0,i.Wm)(u,{index:n,child:e,removeUnsavedChildren:a.removeUnsavedChildren,onInput:e=>a.updateChildData(n,e)},null,8,["index","child","removeUnsavedChildren","onInput"])])))),128))])):(0,i.kq)("",!0),(0,i._)("button",{onClick:n[3]||(n[3]=(...e)=>a.saveUser&&a.saveUser(...e)),class:"save"},"Сохранить")])}r(7658);const j={class:"child-form"},I={class:"input-container child-input"},q=(0,i._)("label",{class:"placeholder"},"Имя",-1),A={class:"input-container child-input"},F=(0,i._)("label",{class:"placeholder"},"Возраст",-1);function W(e,n,r,l,s,a){return(0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("div",I,[q,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>({...r.child}.name=e)),class:"user-input"},null,512),[[t.nr,{...r.child}.name]])]),(0,i._)("div",A,[F,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>({...r.child}.age=e)),type:"number",class:"user-input"},null,512),[[t.nr,{...r.child}.age]])]),(0,i._)("button",{onClick:n[2]||(n[2]=e=>a.removeChild(r.index)),class:"del"},"удалить")])}var Z={props:{index:{type:Number,required:!0},child:{type:Object,required:!0},removeUnsavedChildren:{type:Function,required:!0}},methods:{removeChild(){this.$store.dispatch("deleteChild",this.index),this.removeUnsavedChildren(this.index)}}};const H=(0,a.Z)(Z,[["render",W]]);var $=H,V=r(65),z={components:{ChildrenForm:$},computed:{...(0,V.rn)(["children"]),canAddChild(){return this.children.length<5}},data(){return{formData:{fullName:this.$store.state.user.fullName,age:this.$store.state.user.age},unsavedChildren:[]}},methods:{...(0,V.nv)(["save","deleteChild"]),addChild(){this.unsavedChildren.push({name:"",age:null})},saveUser(){this.save({user:{fullName:this.formData.fullName,age:this.formData.age},children:this.unsavedChildren})},updateChildData(e,n){"text"===n.target.type?this.unsavedChildren[e]["name"]=n.target.value:this.unsavedChildren[e]["age"]=n.target.value},removeUnsavedChildren(e){this.unsavedChildren.splice(e,1)}},created(){this.unsavedChildren=this.children.map((e=>({...e})))}};const T=(0,a.Z)(z,[["render",O]]);var Y=T,K=r(7139);const M={class:"preview"},P={class:"user-title"},E={class:"user-info"},B={key:0,class:"section-children"},G=(0,i._)("p",{class:"children-title"},"Дети",-1);function J(e,n,r,t,l,s){return(0,i.wg)(),(0,i.iD)("section",M,[(0,i._)("p",P,(0,K.zw)(s.userInfo()?"Персональные данные":"Персональных данных нет"),1),(0,i._)("div",E,[(0,i._)("span",null,(0,K.zw)(s.userInfo()),1)]),s.children.length&&s.user.fullName?((0,i.wg)(),(0,i.iD)("section",B,[G,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.children,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n,class:"child-info"},[(0,i._)("span",null,(0,K.zw)(s.childrenInfo(e)),1)])))),128))])):(0,i.kq)("",!0)])}var L={computed:{user(){return this.$store.state.user},children(){return this.$store.state.children}},methods:{userInfo(){return this.user.fullName&&[this.user.fullName,this.user.age].join(", ")},childrenInfo(e){return e.name&&[e.name,e.age].join(", ")}}};const Q=(0,a.Z)(L,[["render",J]]);var R=Q;const S=[{path:"/",component:Y},{path:"/preview",name:"preview",component:R}],X=(0,C.p7)({history:(0,C.r5)(),routes:S});var ee=X,ne=(0,V.MT)({state:{user:{fullName:"",age:""},children:[]},getters:{user(e){return e.user}},mutations:{setUser(e,{fullName:n,age:r}){e.user.fullName=n,e.user.age=r},setChildren(e,n){e.children=n},removeChild(e,n){e.children.splice(n,1)}},actions:{save({commit:e},{user:n,children:r}){e("setUser",n),e("setChildren",r)},deleteChild({commit:e},n){e("removeChild",n)}}});(0,t.ri)(g).use(ne).use(ee).mount("#app")}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var l=n[t]={exports:{}};return e[t].call(l.exports,l,l.exports,r),l.exports}r.m=e,function(){var e=[];r.O=function(n,t,i,l){if(!t){var s=1/0;for(d=0;d<e.length;d++){t=e[d][0],i=e[d][1],l=e[d][2];for(var a=!0,u=0;u<t.length;u++)(!1&l||s>=l)&&Object.keys(r.O).every((function(e){return r.O[e](t[u])}))?t.splice(u--,1):(a=!1,l<s&&(s=l));if(a){e.splice(d--,1);var o=i();void 0!==o&&(n=o)}}return n}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[t,i,l]}}(),function(){r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,{a:n}),n}}(),function(){r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var i,l,s=t[0],a=t[1],u=t[2],o=0;if(s.some((function(n){return 0!==e[n]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(u)var d=u(r)}for(n&&n(t);o<s.length;o++)l=s[o],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(d)},t=self["webpackChunktest_alef"]=self["webpackChunktest_alef"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(8401)}));t=r.O(t)})();
//# sourceMappingURL=app.2cedb5fd.js.map